#!/bin/bash
root=`dirname \`dirname \\\`realpath $0\\\`\``

(if [ ! -f $root/bin/bslc ]; then
g++ -std=c++11 -Wall $root/src/main.cpp -o $root/bin/bslc
fi) &&

(if [ -z $BSL_RT_WITH_GC ];
then $root/bin/bslc $1 -i $root/rt/ -m "-O3 -w"
else $root/bin/bslc $1 -i $root/rt/with_gc/ -m "-O3 -w -lgc"
fi)
